/* center the board on the page */
.board {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 90vh;
  width: 90vw;
  gap: 16px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(9, 1fr);
  gap: 4px; /* 4px gap between cells */

  /* Draw continuous separators across the 3x3 boundaries by using the grid background.
     The grid background is a thin gap color (light grey). We overlay four white stripes
     (two vertical, two horizontal) at 33.333% and 66.666% to produce solid white separators
     that span the full width/height of the grid. The stripes are 4px thick (2px offset each side).
  */
  /* color for regular 1-cell gaps */
  /* background-color: #ccc;  */
  background-image:
    linear-gradient(
      to right,
      transparent calc(33.333333% - 3.5px),
      #888 0 calc(33.333333% + 2px),
      transparent 0
    ),
    linear-gradient(
      to right,
      transparent calc(66.666667% - 2px),
      #888 0 calc(66.666667% + 3.5px),
      transparent 0
    ),
    linear-gradient(
      to bottom,
      transparent calc(33.333333% - 3.5px),
      #888 0 calc(33.333333% + 2px),
      transparent 0
    ),
    linear-gradient(
      to bottom,
      transparent calc(66.666667% - 2px),
      #888 0 calc(66.666667% + 3.5px),
      transparent 0
    );
  background-repeat: no-repeat;
}

.cell {
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  color: #44f;
  /* background: #fff;  */
  /* white cell interior */
  font-size: 48px;
  border: 1px solid #fff; /* subtle 1px cell outlines */
  position: relative; /* container for absolute .candidates overlay */
}

.cell.clue-value {
  color: #fff;
}

.cell.selected {
  border: 4px solid #ccf;
}

.cell.affected {
  border: 2px solid #fff;
  background-color: rgba(136, 136, 255, 0.3); /* #88f with 30% opacity */
}

.cell.value-highlighted {
  color: rgb(143, 126, 0);
  font-weight: bold;
}

.board-toolbar {
  display: flex;
  width: calc((80px * 9) + (4px * 8));
  justify-content: space-between;
}

.input-mode-toggle {
  gap: 8px;
}

.input-mode-toggle button {
  margin-right: 8px;
}

.undo-redo {
  gap: 8px;
}

.input-mode-selected {
  background-color: #fff;
  color: #1a1a1a;
}

.game-mode-toggle {
  display: flex;
  width: calc((80px * 9) + (4px * 8));
  justify-content: end;
  gap: 8px;
}

.candidates {
  position: absolute;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, 1fr);
  width: 65px;
  height: 70px;
  font-size: 12px;
  color: #fff;
  pointer-events: none; /* allow clicks to pass through to cell */
}

/* Place each candidate into a fixed 3x3 slot so positions never shift when
   other candidates are added/removed. Each candidate is a grid item placed
   explicitly by row/column and uses flex to align the number within that slot. */
.candidate-1 { grid-column: 1; grid-row: 1; display:flex; align-items:flex-start; justify-content:flex-start; }
.candidate-2 { grid-column: 2; grid-row: 1; display:flex; align-items:flex-start; justify-content:center; }
.candidate-3 { grid-column: 3; grid-row: 1; display:flex; align-items:flex-start; justify-content:flex-end; }
.candidate-4 { grid-column: 1; grid-row: 2; display:flex; align-items:center; justify-content:flex-start; }
.candidate-5 { grid-column: 2; grid-row: 2; display:flex; align-items:center; justify-content:center; }
.candidate-6 { grid-column: 3; grid-row: 2; display:flex; align-items:center; justify-content:flex-end; }
.candidate-7 { grid-column: 1; grid-row: 3; display:flex; align-items:flex-end; justify-content:flex-start; }
.candidate-8 { grid-column: 2; grid-row: 3; display:flex; align-items:flex-end; justify-content:center; }
.candidate-9 { grid-column: 3; grid-row: 3; display:flex; align-items:flex-end; justify-content:flex-end; }
